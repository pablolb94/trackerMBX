(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(40),c=a.n(s),o=a(34),l=a(4),i=a(5),m=a(7),u=a(6),p=a(8),d=a(3),h=a(78),f=a(160),E=a(158),g=a(159),b=a(161),v=a(76),w=a.n(v),N=a(33),j=a.n(N),O=j.a.initializeApp({apiKey:"AIzaSyBwyRT-RLMbTxj4MX_epYeJLyFknQ0ihrw",authDomain:"trackermbx-6eee5.firebaseapp.com",databaseURL:"https://trackermbx-6eee5.firebaseio.com",projectId:"trackermbx-6eee5",storageBucket:"trackermbx-6eee5.appspot.com",messagingSenderId:"117871294143"}),y=(w.a.createClass(O.database()),new j.a.auth.FacebookAuthProvider,a(77)),U=a.n(y),C=(a(143),a(145),a(147),a(12)),S=a.n(C),k=a(157),P=a(27),B=a.n(P),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).closePopover=a.closePopover.bind(Object(d.a)(Object(d.a)(a))),a.state={currentUser:a.props.currentUser,username:a.props.username},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"closePopover",value:function(){this.setState({popoverOpen:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"contenedor-nav"},r.a.createElement("nav",{className:"navbar"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("img",{className:"icon",src:"images/nav-ico.PNG"})),r.a.createElement("div",{className:"d-flex justify-content-center h-100"},(this.props.authenticated,null)),this.props.authenticated?r.a.createElement("div",{className:"actions"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("img",{src:"images/heart-icon.png"})),r.a.createElement("a",{href:"#",className:"dropbtn",onClick:function(){B()(".dropdown-content").slideToggle()}},r.a.createElement("img",{className:"imageProfile",src:"images/profile1.jpg"})),r.a.createElement("div",{className:"dropdown-content",onClick:function(){B()(".dropdown-content").slideToggle()}},r.a.createElement(k.a,{to:"#"},r.a.createElement("span",{className:"profileName"},this.state.username)),r.a.createElement("hr",null),r.a.createElement(k.a,{to:"/logout"},"Mi Perfil"),r.a.createElement(k.a,{to:"/profile"},"Configuraci\xf3n"),r.a.createElement("hr",null),r.a.createElement(k.a,{to:"/logout"},"Cerrar Sesi\xf3n"))):null))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={userName:e.username},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"homeDiv"},r.a.createElement("p",null," Home "),r.a.createElement("div",{className:"bottomMenu"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/homeicon2.png"})))),r.a.createElement(k.a,{to:"/notifications"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/favoriteicon.png"})))),r.a.createElement(k.a,{to:"/search"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/searchicon.png"})))),r.a.createElement(k.a,{to:"/profile/"+this.state.userName},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/profileicon.png"}))))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).authWithEmailPassword=a.authWithEmailPassword.bind(Object(d.a)(Object(d.a)(a))),a.state={redirect:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"authWithEmailPassword",value:function(e){var t=this;e.preventDefault();var a=this.emailInput.value,n=this.passwordInput.value;O.auth().fetchProvidersForEmail(a).then(function(e){return O.auth().signInWithEmailAndPassword(a,n)}).then(function(e){e.user&&e.user.email&&(t.loginForm.reset(),t.props.setCurrentUser(e.user),t.setState({redirect:!0}))}).catch(function(e){switch(e.message){case"There is no user record corresponding to this identifier. The user may have been deleted.":S.a.warning("Error. Usuario no encontrado o eliminado.",{position:"top",effect:"genie"});break;case"The email address is badly formatted.":S.a.warning("Error. Email Incorrecto / Mal formado.",{position:"top",effect:"genie"});break;case"The password is invalid or the user does not have a password.":S.a.warning("Error. Usuario / Contrase\xf1a incorrectos.",{position:"top",effect:"genie"});break;default:S.a.warning(e.message,{position:"top",effect:"genie"})}})}},{key:"render",value:function(){var e=this;return this.props.redirect?r.a.createElement(E.a,{to:"Home"}):r.a.createElement("div",{className:"logInDiv"},r.a.createElement("form",{onSubmit:function(t){e.authWithEmailPassword(t)},ref:function(t){e.loginForm=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"email",ref:function(t){e.emailInput=t},"aria-describedby":"email",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Introduzca un email de acceso.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password","aria-describedby":"password",placeholder:"Enter password",ref:function(t){e.passwordInput=t}}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Introduzca una contrase\xf1a de acceso.")),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Iniciar Sesi\xf3n"}),r.a.createElement("br",null),r.a.createElement(k.a,{to:"/logUp"},r.a.createElement("br",null),r.a.createElement("p",{className:"registerText"},"\xbfNo tienes cuenta? - Registrate aqu\xed"))))}}]),t}(n.Component),D=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={redirect:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;O.auth().signOut().then(function(t){e.setState({redirect:!0})})}},{key:"render",value:function(){return!0===this.state.redirect?r.a.createElement(E.a,{to:"/login"}):r.a.createElement("div",{style:{textAlign:"center",position:"absolute",top:"25%",left:"50%"}},r.a.createElement("h3",null,"Logging Out"))}}]),t}(n.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{to:"home"})}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).registredAccount=a.registredAccount.bind(Object(d.a)(Object(d.a)(a))),a.state={redirect:!1,accounts:e.accounts},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"registredAccount",value:function(e){var t=this;e.preventDefault();var a=this.emailInput.value,n=this.passwordInput.value,r=this.usernameImput.value,s=!1;for(var c in this.state.accounts)this.state.accounts.hasOwnProperty(c)&&r.toUpperCase()==this.state.accounts[c].username.toUpperCase()&&(s=!0);s?S.a.warning("Error. El nombre de usuario ya se encuentra en uso.",{position:"top",effect:"genie"}):a&&r&&n?j.a.auth().createUserWithEmailAndPassword(a,n).then(function(e){if(e.user&&e.user.email){var a={id:e.user.uid,username:r};t.props.addAccount(a),t.logUpForm.reset(),t.props.setCurrentUser(e.user),t.setState({redirect:!0})}}).catch(function(e){switch(e.message){case"The email address is already in use by another account.":S.a.warning("Error. El Email introducido ya se encuentra registrado.",{position:"top",effect:"genie"});break;case"The email address is badly formatted.":S.a.warning("Error. Email incorrecto.",{position:"top",effect:"genie"});break;case"The password is invalid or the user does not have a password.":S.a.warning("Error. Usuario no encontrado o eliminado.",{position:"top",effect:"genie"});break;case"Password should be at least 6 characters":S.a.warning("Error. La contrase\xf1a no cumple los requisitos.",{position:"top",effect:"genie"});break;default:S.a.warning(e.message,{position:"top",effect:"genie"})}}):S.a.warning("Error. Debes rellenar todos los campos.",{position:"top",effect:"genie"})}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(E.a,{to:"home"}):(console.log(this.state.accounts),r.a.createElement("div",{className:"logUpDiv"},r.a.createElement("form",{onSubmit:function(t){e.registredAccount(t)},ref:function(t){e.logUpForm=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"email",ref:function(t){e.emailInput=t},"aria-describedby":"email",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Introduzca un email valido.")),r.a.createElement("div",{className:"form-group",id:"usernameDiv"},r.a.createElement("label",{for:"username"},"Usuario"),r.a.createElement("input",{type:"text",name:"username",className:"form-control",id:"username",ref:function(t){e.usernameImput=t},placeholder:"Usuario"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Introduzca un usuario.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password","aria-describedby":"password",placeholder:"Enter password",ref:function(t){e.passwordInput=t}}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Introduzca una contrase\xf1a (m\xednimo 6 caracters).")),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Crear Cuenta"}),r.a.createElement("br",null),r.a.createElement(k.a,{to:"/login"},r.a.createElement("br",null),r.a.createElement("p",{className:"registerText"},"Volver")))))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).updateUnfollow=a.updateUnfollow.bind(Object(d.a)(Object(d.a)(a))),a.updateFollow=a.updateFollow.bind(Object(d.a)(Object(d.a)(a))),a.state={user:a.props.user,userMail:a.props.user.email,userName:a.props.username,accounts:a.props.accounts,account:a.props.account,account2:{},loading:!0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"updateUnfollow",value:function(e){var t=O.database(),a=this.state.accounts,n=this.state.account.id,r=-1;for(var s in a)if(a.hasOwnProperty(s)&&a[s].username==this.props.match.params.username){r=a[s].id;var c=0;a[s].followers.forEach(function(e){e==n&&(a[s].followers.splice(c,1),t.ref("accounts/"+s+"/followers").set(a[s].followers)),c++}),this.setState({accounts:a})}for(var s in a)if(a.hasOwnProperty(s)&&a[s].username==this.props.account.username){c=0;a[s].following.forEach(function(e){e==r&&(a[s].following.splice(c,1),t.ref("accounts/"+s+"/following").set(a[s].following)),c++}),this.setState({accounts:a,account:a[s]}),this.props.updateStateAll(a,a[s])}}},{key:"updateFollow",value:function(e){var t=Object(o.a)({},this.state.accounts),a=Object(o.a)({},this.state.account),n=O.database(),r=(new Array,"");for(var s in t)if(t.hasOwnProperty(s)&&this.props.match.params.username==t[s].username){if(r=t[s].id,void 0!=t[s].followers){var c=t[s].followers.length;t[s].followers.push(this.state.account.id)}else{c=0;(i=new Array).push(this.state.account.id),t[s].followers=i}n.ref("accounts/"+s+"/followers/"+c).set(this.state.account.id),this.setState({accounts:t}),this.props.updateStateAll(t)}for(var s in t)if(t.hasOwnProperty(s)&&a.username==t[s].username){var l=t[s];if(void 0==l.following){var i;c=0;(i=new Array).push(r),l.following=i}else{c=l.following.length;l.following.push(r)}t[s]=l,n.ref("accounts/"+s+"/following/"+c).set(r),this.setState({accounts:t,account:l}),this.props.updateStateAll(t,l)}}},{key:"render",value:function(){var e=this;if(this.props.match.params.username!=this.state.userName){var t=new Object;for(var a in this.state.accounts)this.state.accounts.hasOwnProperty(a)&&this.props.match.params.username==this.state.accounts[a].username&&(t=this.state.accounts[a]);var n=!1;return this.state.account.following&&this.state.account.following.forEach(function(e){e==t.id&&(n=!0)}),r.a.createElement("div",{className:"profileDiv"},r.a.createElement("div",{className:"headerProfile"},r.a.createElement("div",{className:"profileImg"},r.a.createElement("img",{src:"images/profile1.jpg"})),r.a.createElement("div",{className:"profileDesc"},r.a.createElement("p",null,t.username),n?r.a.createElement("form",{onSubmit:function(t){e.updateUnfollow(t)},ref:function(t){e.unfollowForm=t}},r.a.createElement("input",{type:"submit",className:"btn btn-warning configUserBtn",value:"Dejar de seguir"})):r.a.createElement("form",{onSubmit:function(t){e.updateFollow(t)},ref:function(t){e.followForm=t}},r.a.createElement("input",{type:"submit",className:"btn btn-success configUserBtn",value:"Comenzar a seguir"})))),r.a.createElement("div",{className:"profileInfoFollow"},r.a.createElement("div",null,r.a.createElement("span",{className:"low"},"Rutas:",r.a.createElement("br",null)),r.a.createElement("span",{className:"big"},"12 ",t.tracks)),r.a.createElement("div",null,r.a.createElement("span",{className:"low"},"Seguidores:",r.a.createElement("br",null)),r.a.createElement("span",{className:"big"},void 0==t.followers?0:t.followers.length)),r.a.createElement("div",{className:"lastFollowDiv"},r.a.createElement("span",{className:"low"},"Seguidos:",r.a.createElement("br",null)),r.a.createElement("span",{className:"big"},void 0==t.following?0:t.following.length))),r.a.createElement("div",{className:"bottomMenu"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/homeicon.png"})))),r.a.createElement(k.a,{to:"/notifications"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/favoriteicon.png"})))),r.a.createElement(k.a,{to:"/search"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/searchicon.png"})))),r.a.createElement(k.a,{to:"/profile/"+this.state.userName},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/profileicon.png"}))))))}return r.a.createElement("div",{className:"profileDiv"},r.a.createElement("div",{className:"headerProfile"},r.a.createElement("div",{className:"profileImg"},r.a.createElement("img",{src:"images/profile1.jpg"})),r.a.createElement("div",{className:"profileDesc"},r.a.createElement("p",null,this.state.account.username),r.a.createElement(k.a,{to:"/configprofile"},r.a.createElement("div",{className:"btn btn-info configUserBtn"},"Configuraci\xf3n")),r.a.createElement(k.a,{to:"/logout"},r.a.createElement("div",{className:"btn btn-info closeSessionBtn"},r.a.createElement("img",{src:"icons/general/closeSessionIcon.png"}))))),r.a.createElement("div",{className:"profileInfoFollow"},r.a.createElement("div",null,r.a.createElement("span",{className:"low"},"Rutas:",r.a.createElement("br",null)),r.a.createElement("span",{className:"big"},"12 ",this.state.account.tracks)),r.a.createElement("div",null,r.a.createElement("span",{className:"low"},"Seguidores:",r.a.createElement("br",null)),r.a.createElement("span",{className:"big"},void 0==this.state.account.followers?0:this.state.account.followers.length)),r.a.createElement("div",{className:"lastFollowDiv"},r.a.createElement("span",{className:"low"},"Seguidos:",r.a.createElement("br",null)),r.a.createElement("span",{className:"big"},void 0==this.state.account.following?0:this.state.account.following.length))),r.a.createElement("div",{className:"bottomMenu"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/homeicon.png"})))),r.a.createElement(k.a,{to:"/notifications"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/favoriteicon.png"})))),r.a.createElement(k.a,{to:"/search"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/searchicon.png"})))),r.a.createElement(k.a,{to:"/profile/"+this.state.userName},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/profileicon2.png"}))))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.user,userMail:a.props.user.email,userName:a.props.username,accounts:a.props.accounts,account:a.props.account},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.accounts,t="";this.state.account.following&&this.state.account.following.forEach(function(e){t+=e+"/"});var a=this.state.account.username;return r.a.createElement("div",{className:"searchContent"},r.a.createElement("div",{className:"searchHeader"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{className:"search_input",type:"text",name:"",placeholder:"Search ..."}))),r.a.createElement("div",{className:"searchBody"},Object.keys(this.state.accounts).map(function(n){return 0,e[n].username==a?void 0:r.a.createElement("div",{className:"objectProfileSearch"},r.a.createElement("div",{className:"imageProfileSearch"},r.a.createElement("img",{src:"images/profile1.jpg"})),r.a.createElement("div",{className:"describeProfileSearch"},r.a.createElement(k.a,{to:"/profile/"+e[n].username},e[n].username)),r.a.createElement("div",{className:"followBtnSearch"},t.search(e[n].id)<0?r.a.createElement("input",{type:"submit",className:"btn btn-success followSearhBtn",value:"Seguir"}):r.a.createElement("input",{type:"submit",className:"btn btn-warning followSearhBtn",value:"Dejar de seguir"})))}),r.a.createElement("hr",null)),r.a.createElement("div",{className:"bottomMenu"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/homeicon.png"})))),r.a.createElement(k.a,{to:"/notifications"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/favoriteicon.png"})))),r.a.createElement(k.a,{to:"/search"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/searchicon.png"})))),r.a.createElement(k.a,{to:"/profile/"+this.state.userName},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{src:"icons/general/profileicon.png"}))))))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.user,userMail:a.props.user.email,userName:a.props.username},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"NotificationsDiv"},"Notifications",r.a.createElement("div",{className:"bottomMenu"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/homeicon.png"})))),r.a.createElement(k.a,{to:"/notifications"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/favoriteicon2.png"})))),r.a.createElement(k.a,{to:"/search"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/searchicon.png"})))),r.a.createElement(k.a,{to:"/profile/"+this.state.userName},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/profileicon.png"}))))))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.user,userMail:a.props.user.email,userName:a.props.username},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"configProfileDiv"},r.a.createElement("div",{className:"configProfileBody"},r.a.createElement("div",{className:"separatorProfileForms"},r.a.createElement("div",{className:"titleSubConfProfile",onClick:function(){B()(".changeData").slideToggle()}},r.a.createElement("p",null,"Datos de Usuario")),r.a.createElement("div",{className:"formSubConfProfileForms changeData"},r.a.createElement("form",{action:"/action_page.php"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"username"},"Usuario:"),r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Usuario",name:"username",value:this.state.userName,disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email"},"Email:"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",name:"email",value:this.state.userMail,disabled:!0}))))),r.a.createElement("div",{className:"separatorProfileForms"},r.a.createElement("div",{className:"titleSubConfProfile",onClick:function(){B()(".changePassword").slideToggle()}},r.a.createElement("p",null,"Cambiar Contrase\xf1a")),r.a.createElement("div",{className:"formSubConfProfileForms changePassword"},r.a.createElement("form",{action:"/action_page.php"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password_new"},"Contrase\xf1a Nueva:"),r.a.createElement("input",{type:"password",className:"form-control",id:"password_new",placeholder:"Contrase\xf1a Nueva",name:"password_new"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password_old"},"Contrase\xf1a Antigua:"),r.a.createElement("input",{type:"password",className:"form-control",id:"password_old",placeholder:"Contrase\xf1a Antigua",name:"password_old"})),r.a.createElement("button",{type:"button",className:"btn btn-info"},"Actualizar Contrase\xf1a"))))),r.a.createElement("div",{className:"bottomMenu"},r.a.createElement(k.a,{to:"/home"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/homeicon.png"})))),r.a.createElement(k.a,{to:"/notifications"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/favoriteicon.png"})))),r.a.createElement(k.a,{to:"/search"},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/searchicon.png"})))),r.a.createElement(k.a,{to:"/profile/"+this.state.userName},r.a.createElement("div",{className:"buttonBottom"},r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:"icons/general/profileicon2.png"}))))))}}]),t}(n.Component),H=U()();function L(e){var t=e.component,a=e.authenticated,n=Object(h.a)(e,["component","authenticated"]);return r.a.createElement(f.a,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(E.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var R=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).setCurrentUser=e.setCurrentUser.bind(Object(d.a)(Object(d.a)(e))),e.addAccount=e.addAccount.bind(Object(d.a)(Object(d.a)(e))),e.updateStateAll=e.updateStateAll.bind(Object(d.a)(Object(d.a)(e))),e.state={authenticated:!1,currentUser:null,loading:!0,accounts:{},username:"",account:""},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.removeAuthListener=O.auth().onAuthStateChanged(function(t){t?e.setState({authenticated:!0,currentUser:t}):e.setState({authenticated:!1,currentUser:null,loading:!1})})}},{key:"componentDidMount",value:function(){var e=this;this.db=O.database().ref().child("accounts");var t=this.state.accounts;this.db.on("child_added",function(a){var n=a.val();t[a.key]=n,e.setState({accounts:t}),e.state.currentUser&&e.state.currentUser.uid==a.val().id&&e.setState({username:a.val().username,account:a.val(),loading:!1})})}},{key:"addAccount",value:function(e){Object(o.a)({},this.state.accounts);this.db.push().set(e)}},{key:"updateStateAll",value:function(e,t){this.setState({account:t,accounts:e})}},{key:"setCurrentUser",value:function(e){if(e){var t=new Object;for(var a in this.state.accounts)this.state.accounts.hasOwnProperty(a)&&e.uid==this.state.accounts[a].id&&(t=this.state.accounts[a]);this.setState({currentUser:e,authenticated:!0,account:t,username:t.username})}else this.setState({currentUser:null,authenticated:!1,username:""})}},{key:"render",value:function(){var e=this;return!0===this.state.loading?r.a.createElement("div",{className:"LoadingDiv"},r.a.createElement("img",{src:"images/loading.gif"})):r.a.createElement("div",{className:"contenedor"},r.a.createElement(S.a,{stack:{limit:3}}),r.a.createElement(g.a,{history:H},r.a.createElement("div",null,r.a.createElement(A,{authenticated:this.state.authenticated,currentUser:this.state.currentUser,username:this.state.username}),r.a.createElement(b.a,null,r.a.createElement(L,{exact:!0,path:"/",authenticated:!1,component:I}),r.a.createElement(L,{exact:!0,path:"/home",authenticated:this.state.authenticated,component:x,username:this.state.username}),r.a.createElement(L,{exact:!0,path:"/search",authenticated:this.state.authenticated,component:_,user:this.state.currentUser,username:this.state.username,account:this.state.account,accounts:this.state.accounts}),r.a.createElement(L,{exact:!0,path:"/Profile/:username",authenticated:this.state.authenticated,component:T,user:this.state.currentUser,accounts:this.state.accounts,account:this.state.account,username:this.state.username,updateUnfollow:this.updateUnfollow,updateFollow:this.updateFollow,updateStateAll:this.updateStateAll}),r.a.createElement(L,{exact:!0,path:"/Notifications",authenticated:this.state.authenticated,component:W,user:this.state.currentUser,username:this.state.username}),r.a.createElement(L,{exact:!0,path:"/Configprofile",authenticated:this.state.authenticated,component:z,user:this.state.currentUser,username:this.state.username}),r.a.createElement(f.a,{path:"/logout",component:D}),r.a.createElement(f.a,{path:"/login",render:function(t){return r.a.createElement(I,Object.assign({redirect:e.state.currentUser,setCurrentUser:e.setCurrentUser},t))}}),r.a.createElement(f.a,{path:"/logup",render:function(t){return r.a.createElement(M,Object.assign({accounts:e.state.accounts,redirect:e.state.currentUser,addAccount:e.addAccount,setCurrentUser:e.setCurrentUser},t))}}),r.a.createElement(f.a,{component:F})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=function(){c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};window.cordova?document.addEventListener("deviceready",J,!1):J()},79:function(e,t,a){e.exports=a(155)}},[[79,2,1]]]);
//# sourceMappingURL=main.a88ca412.chunk.js.map